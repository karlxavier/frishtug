(function() {
  $('#menu-item-modal .modal-body')
    .html('<%= j render 'form_modal', menu: @menu, menu_category: @menu_category %>');
  $('#menu-item-modal .modal-title')
    .html('Update <%= @menu.name.humanize.capitalize %>')
  $('#menu-item-modal').modal('show');
  <% if @menu.diet_category_ids.present? %>
      const dietCategoryIds = <%= raw @menu.diet_category_ids %>;
      dietCategoryIds.forEach( id => {
        const label = document.querySelector('#menu-item-modal').querySelector(`label[for="menu_diet_category_ids_${id}"]`);
        label.classList.add('inverse');
      });
  <% end %>
  diet_category_init();
  init_dropzone();
}())
